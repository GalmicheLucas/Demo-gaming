(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{9625:(e,t,o)=>{Promise.resolve().then(o.bind(o,2339))},2339:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(5155),l=o(2115),s=o(2891),a=o.n(s);let n=()=>{let[e,t]=(0,l.useState)([]),[o,s]=(0,l.useState)(!1),[n,i]=(0,l.useState)({name:"",price:"",imageFile:null,category:""}),[u,c]=(0,l.useState)(!1),[d,p]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[h,_]=(0,l.useState)(""),[x,j]=(0,l.useState)("");(0,l.useEffect)(()=>{try{let e="true"===localStorage.getItem("userLoggedIn");c(e);let o=localStorage.getItem("products");o&&t(JSON.parse(o))}catch(e){console.error("Erreur lors du chargement des produits :",e)}},[]),(0,l.useEffect)(()=>{try{e.length>0&&localStorage.setItem("products",JSON.stringify(e))}catch(e){console.error("Erreur lors de la sauvegarde des produits :",e)}},[e]);let C=()=>s(!1),v=e=>{let{name:t,value:o}=e.target;i({...n,[t]:o})},N=o=>{t(e.filter(e=>e.id!==o))},b=x?e.filter(e=>e.category===x):e;return(0,r.jsxs)("div",{className:a().shopContainer,children:[(0,r.jsx)("div",{className:a().loginContainer,children:u?(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("userLoggedIn"),c(!1),p(""),g("")},className:a().logoutButton,children:"Se d\xe9connecter"}):(0,r.jsxs)("div",{className:a().loginForm,children:[(0,r.jsx)("input",{type:"text",placeholder:"Nom d'utilisateur",value:d,onChange:e=>p(e.target.value)}),(0,r.jsx)("input",{type:"password",placeholder:"Mot de passe",value:m,onChange:e=>g(e.target.value)}),(0,r.jsx)("button",{onClick:()=>{"Test"===d&&"Test"===m?(localStorage.setItem("userLoggedIn","true"),c(!0),_("")):_("Nom d'utilisateur ou mot de passe incorrect.")},className:a().loginButton,children:"Se connecter"}),h&&(0,r.jsx)("p",{className:a().errorMessage,children:h})]})}),(0,r.jsx)("h1",{children:"Bienvenue dans notre boutique !"}),u&&(0,r.jsx)("button",{onClick:()=>s(!0),className:a().addButton,children:"Ajouter un produit"}),(0,r.jsxs)("select",{onChange:e=>j(e.target.value),className:a().filterSelect,children:[(0,r.jsx)("option",{value:"",children:"Toutes les cat\xe9gories"}),(0,r.jsx)("option",{value:"figurines",children:"Figurines"}),(0,r.jsx)("option",{value:"jeux",children:"Jeux"}),(0,r.jsx)("option",{value:"consoles",children:"Consoles"})]}),o&&u&&(0,r.jsx)("div",{className:a().modal,children:(0,r.jsxs)("div",{className:a().modalContent,children:[(0,r.jsx)("button",{className:a().close,onClick:C,children:"X"}),(0,r.jsx)("h2",{className:a().modalTitle,children:"Ajouter un produit"}),(0,r.jsxs)("form",{onSubmit:o=>{if(o.preventDefault(),!n.name||!n.price||!n.imageFile||!n.category){alert("Veuillez remplir tous les champs !");return}t([...e,{...n,id:Date.now(),price:parseFloat(n.price),imageUrl:n.imageFile}]),i({name:"",price:"",imageFile:null,category:""}),C()},className:a().productForm,children:[(0,r.jsx)("label",{children:"Nom:"}),(0,r.jsx)("input",{type:"text",name:"name",value:n.name,onChange:v,required:!0}),(0,r.jsx)("label",{children:"Prix:"}),(0,r.jsx)("input",{type:"number",name:"price",value:n.price,onChange:v,required:!0}),(0,r.jsx)("label",{children:"Cat\xe9gorie:"}),(0,r.jsxs)("select",{name:"category",value:n.category,onChange:v,required:!0,children:[(0,r.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),(0,r.jsx)("option",{value:"figurines",children:"Figurines"}),(0,r.jsx)("option",{value:"jeux",children:"Jeux"}),(0,r.jsx)("option",{value:"consoles",children:"Consoles"})]}),(0,r.jsx)("label",{children:"Image:"}),(0,r.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png",onChange:e=>{let t=e.target.files[0];if(t&&["image/jpeg","image/jpg","image/png"].includes(t.type)){let e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>{e.result&&i({...n,imageFile:e.result})},e.onerror=()=>alert("Erreur lors du chargement de l'image !")}else alert("Format d'image non valide !")},required:!0}),(0,r.jsx)("button",{type:"submit",children:"Ajouter"})]})]})}),(0,r.jsx)("div",{className:a().productList,children:b.length>0?b.map(e=>(0,r.jsxs)("div",{className:a().productCard,children:[(0,r.jsx)("img",{src:e.imageUrl,alt:e.name,className:a().productImage}),(0,r.jsx)("h3",{children:e.name}),(0,r.jsxs)("p",{children:[e.price," â‚¬"]}),u&&(0,r.jsx)("button",{onClick:()=>N(e.id),className:a().deleteButton,children:"Supprimer"})]},e.id)):(0,r.jsx)("p",{children:"Aucun produit disponible."})})]})}},2891:e=>{e.exports={shopContainer:"shop_shopContainer__mCQUM",productList:"shop_productList__QD4Id",productCard:"shop_productCard__FAplM",productImage:"shop_productImage__d9BVs",productLink:"shop_productLink__DCP55",loginContainer:"shop_loginContainer__Sxuyn",loginForm:"shop_loginForm__nzZxZ",loginButton:"shop_loginButton__mU4KI",logoutButton:"shop_logoutButton__63nk7",modal:"shop_modal__N5Rd0",modalContent:"shop_modalContent__tvK31",close:"shop_close__ZIIgZ",modalTitle:"shop_modalTitle__Crh8o",productForm:"shop_productForm__9XFGO",label:"shop_label__O6mCl",input:"shop_input__M82P7",submitButton:"shop_submitButton__BH7YB"}}},e=>{var t=t=>e(e.s=t);e.O(0,[420,441,517,358],()=>t(9625)),_N_E=e.O()}]);